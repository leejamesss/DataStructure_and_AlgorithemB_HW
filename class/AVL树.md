# AVL树
  ## 平衡因子BF：左高度-右高度
### 添加节点X后
    - X是叶子节点，BF=0。从X的父节点开始，向上修改祖先节点的BF，直到某个祖先的BF为0，或者树根的BF也被修改为止。如果修改过程中没有失衡节点，修改完成，添加节点完成
#### 结论
    * 如果修改祖先节点BF的过程中，发现某个节点的V失衡，立即调整以V为根的子树，调整完毕后，设新树根为Y，则Y，BF=0且所有的Y的祖先BF不需要修改，添加节点完成
    * 发现V失衡的时候V的子孙节点都没有失衡，V的祖先节点也没来得及看，就不需要看了（由于是从下往上修改，就是发现了第一个失衡节点，只需要修改失衡节点为根的子树即可）

### 修改祖先BF
  - 如果BF是新增的叶子节点，X的父亲BF需要-1或者+1
  - 如果V的BF修改后不为0（左右子树不等高），那么V的父亲BF也要修改
       如果V为左节点：V.father.BF+=1
       如果V为右节点：V.father.BF-=1
  - V为根的BF修改后不为0（BF已经修改过），那么V为根的子树高度一定增加了1，因此V.father.bf需要修改
  - 如果V的BF被修改为0，V的父亲和祖先的BF都不需要修改，，因为以V为根的子树高度没有增加

